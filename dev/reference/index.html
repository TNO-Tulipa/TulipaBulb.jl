<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Reference · TulipaEnergyModel.jl</title><meta name="title" content="Reference · TulipaEnergyModel.jl"/><meta property="og:title" content="Reference · TulipaEnergyModel.jl"/><meta property="twitter:title" content="Reference · TulipaEnergyModel.jl"/><meta name="description" content="Documentation for TulipaEnergyModel.jl."/><meta property="og:description" content="Documentation for TulipaEnergyModel.jl."/><meta property="twitter:description" content="Documentation for TulipaEnergyModel.jl."/><meta property="og:url" content="https://TulipaEnergy.github.io/TulipaEnergyModel.jl/reference/"/><meta property="twitter:url" content="https://TulipaEnergy.github.io/TulipaEnergyModel.jl/reference/"/><link rel="canonical" href="https://TulipaEnergy.github.io/TulipaEnergyModel.jl/reference/"/><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../search_index.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">TulipaEnergyModel.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li><a class="tocitem" href="../api/">API</a></li><li><a class="tocitem" href="../how-to-use/">How to Use</a></li><li><a class="tocitem" href="../mathematical-formulation/">Mathematical Formulation</a></li><li><a class="tocitem" href="../features/">Features</a></li><li><a class="tocitem" href="../tutorial/">Tutorial</a></li><li class="is-active"><a class="tocitem" href>Reference</a><ul class="internal"><li><a class="tocitem" href="#Index"><span>Index</span></a></li><li><a class="tocitem" href="#Contents"><span>Contents</span></a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Reference</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Reference</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/TulipaEnergy/TulipaEnergyModel.jl/blob/main/docs/src/reference.md#" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Reference"><a class="docs-heading-anchor" href="#Reference">Reference</a><a id="Reference-1"></a><a class="docs-heading-anchor-permalink" href="#Reference" title="Permalink"></a></h1><p>​This is a comprehensive list of all of the functions in the model.<br/>The function most pertinent to the user is: <a href="#TulipaEnergyModel.run_scenario-Tuple{AbstractString}"><code>run_scenario</code></a></p><h2 id="Index"><a class="docs-heading-anchor" href="#Index">Index</a><a id="Index-1"></a><a class="docs-heading-anchor-permalink" href="#Index" title="Permalink"></a></h2><ul><li><a href="#TulipaEnergyModel.AssetData"><code>TulipaEnergyModel.AssetData</code></a></li><li><a href="#TulipaEnergyModel.AssetPartitionData"><code>TulipaEnergyModel.AssetPartitionData</code></a></li><li><a href="#TulipaEnergyModel.AssetProfiles"><code>TulipaEnergyModel.AssetProfiles</code></a></li><li><a href="#TulipaEnergyModel.EnergyProblem"><code>TulipaEnergyModel.EnergyProblem</code></a></li><li><a href="#TulipaEnergyModel.FlowData"><code>TulipaEnergyModel.FlowData</code></a></li><li><a href="#TulipaEnergyModel.FlowPartitionData"><code>TulipaEnergyModel.FlowPartitionData</code></a></li><li><a href="#TulipaEnergyModel.FlowProfiles"><code>TulipaEnergyModel.FlowProfiles</code></a></li><li><a href="#TulipaEnergyModel.GraphAssetData"><code>TulipaEnergyModel.GraphAssetData</code></a></li><li><a href="#TulipaEnergyModel.GraphFlowData"><code>TulipaEnergyModel.GraphFlowData</code></a></li><li><a href="#TulipaEnergyModel.RepPeriodData"><code>TulipaEnergyModel.RepPeriodData</code></a></li><li><a href="#TulipaEnergyModel.RepresentativePeriod"><code>TulipaEnergyModel.RepresentativePeriod</code></a></li><li><a href="#TulipaEnergyModel._parse_rp_partition"><code>TulipaEnergyModel._parse_rp_partition</code></a></li><li><a href="#TulipaEnergyModel.compute_assets_partitions!-NTuple{4, Any}"><code>TulipaEnergyModel.compute_assets_partitions!</code></a></li><li><a href="#TulipaEnergyModel.compute_constraints_partitions-Tuple{Any, Any}"><code>TulipaEnergyModel.compute_constraints_partitions</code></a></li><li><a href="#TulipaEnergyModel.compute_flows_partitions!-NTuple{5, Any}"><code>TulipaEnergyModel.compute_flows_partitions!</code></a></li><li><a href="#TulipaEnergyModel.compute_rp_partition-Tuple{AbstractVector{&lt;:AbstractVector{&lt;:UnitRange{&lt;:Integer}}}}"><code>TulipaEnergyModel.compute_rp_partition</code></a></li><li><a href="#TulipaEnergyModel.create_energy_problem_from_csv_folder-Tuple{AbstractString}"><code>TulipaEnergyModel.create_energy_problem_from_csv_folder</code></a></li><li><a href="#TulipaEnergyModel.create_graph_and_representative_periods_from_csv_folder-Tuple{AbstractString}"><code>TulipaEnergyModel.create_graph_and_representative_periods_from_csv_folder</code></a></li><li><a href="#TulipaEnergyModel.create_model-Tuple{Any, Any, Any}"><code>TulipaEnergyModel.create_model</code></a></li><li><a href="#TulipaEnergyModel.create_model!-Tuple{Any}"><code>TulipaEnergyModel.create_model!</code></a></li><li><a href="#TulipaEnergyModel.read_csv_with_schema-Tuple{Any, Any}"><code>TulipaEnergyModel.read_csv_with_schema</code></a></li><li><a href="#TulipaEnergyModel.resolution_matrix-Tuple{AbstractVector{&lt;:UnitRange{&lt;:Integer}}, AbstractVector{&lt;:UnitRange{&lt;:Integer}}}"><code>TulipaEnergyModel.resolution_matrix</code></a></li><li><a href="#TulipaEnergyModel.run_scenario-Tuple{AbstractString}"><code>TulipaEnergyModel.run_scenario</code></a></li><li><a href="#TulipaEnergyModel.save_solution_to_file-Tuple{Any, Any}"><code>TulipaEnergyModel.save_solution_to_file</code></a></li><li><a href="#TulipaEnergyModel.save_solution_to_file-Tuple{Any, TulipaEnergyModel.EnergyProblem}"><code>TulipaEnergyModel.save_solution_to_file</code></a></li><li><a href="#TulipaEnergyModel.solve_model-Tuple{JuMP.Model}"><code>TulipaEnergyModel.solve_model</code></a></li><li><a href="#TulipaEnergyModel.solve_model!-Tuple{TulipaEnergyModel.EnergyProblem}"><code>TulipaEnergyModel.solve_model!</code></a></li></ul><h2 id="Contents"><a class="docs-heading-anchor" href="#Contents">Contents</a><a id="Contents-1"></a><a class="docs-heading-anchor-permalink" href="#Contents" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TulipaEnergyModel.AssetData" href="#TulipaEnergyModel.AssetData"><code>TulipaEnergyModel.AssetData</code></a> — <span class="docstring-category">Type</span></header><section><div><p>Schema for the assets-data.csv file.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/TulipaEnergy/TulipaEnergyModel.jl/blob/b8d29cc637672567cff097adb82fa8a0dc561c63/src/input-tables.jl#L1-L3">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TulipaEnergyModel.AssetPartitionData" href="#TulipaEnergyModel.AssetPartitionData"><code>TulipaEnergyModel.AssetPartitionData</code></a> — <span class="docstring-category">Type</span></header><section><div><p>Schema for the assets-partitions.csv file.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/TulipaEnergy/TulipaEnergyModel.jl/blob/b8d29cc637672567cff097adb82fa8a0dc561c63/src/input-tables.jl#L29-L31">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TulipaEnergyModel.AssetProfiles" href="#TulipaEnergyModel.AssetProfiles"><code>TulipaEnergyModel.AssetProfiles</code></a> — <span class="docstring-category">Type</span></header><section><div><p>Schema for the assets-profiles.csv file.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/TulipaEnergy/TulipaEnergyModel.jl/blob/b8d29cc637672567cff097adb82fa8a0dc561c63/src/input-tables.jl#L19-L21">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TulipaEnergyModel.EnergyProblem" href="#TulipaEnergyModel.EnergyProblem"><code>TulipaEnergyModel.EnergyProblem</code></a> — <span class="docstring-category">Type</span></header><section><div><p>Structure to hold all parts of an energy problem.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/TulipaEnergy/TulipaEnergyModel.jl/blob/b8d29cc637672567cff097adb82fa8a0dc561c63/src/structures.jl#L116-L118">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TulipaEnergyModel.FlowData" href="#TulipaEnergyModel.FlowData"><code>TulipaEnergyModel.FlowData</code></a> — <span class="docstring-category">Type</span></header><section><div><p>Schema for the flows-data.csv file.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/TulipaEnergy/TulipaEnergyModel.jl/blob/b8d29cc637672567cff097adb82fa8a0dc561c63/src/input-tables.jl#L39-L41">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TulipaEnergyModel.FlowPartitionData" href="#TulipaEnergyModel.FlowPartitionData"><code>TulipaEnergyModel.FlowPartitionData</code></a> — <span class="docstring-category">Type</span></header><section><div><p>Schema for the flows-partitions.csv file.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/TulipaEnergy/TulipaEnergyModel.jl/blob/b8d29cc637672567cff097adb82fa8a0dc561c63/src/input-tables.jl#L69-L71">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TulipaEnergyModel.FlowProfiles" href="#TulipaEnergyModel.FlowProfiles"><code>TulipaEnergyModel.FlowProfiles</code></a> — <span class="docstring-category">Type</span></header><section><div><p>Schema for the flows-profiles file.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/TulipaEnergy/TulipaEnergyModel.jl/blob/b8d29cc637672567cff097adb82fa8a0dc561c63/src/input-tables.jl#L58-L60">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TulipaEnergyModel.GraphAssetData" href="#TulipaEnergyModel.GraphAssetData"><code>TulipaEnergyModel.GraphAssetData</code></a> — <span class="docstring-category">Type</span></header><section><div><p>Structure to hold the asset data in the graph.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/TulipaEnergy/TulipaEnergyModel.jl/blob/b8d29cc637672567cff097adb82fa8a0dc561c63/src/structures.jl#L18-L20">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TulipaEnergyModel.GraphFlowData" href="#TulipaEnergyModel.GraphFlowData"><code>TulipaEnergyModel.GraphFlowData</code></a> — <span class="docstring-category">Type</span></header><section><div><p>Structure to hold the flow data in the graph.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/TulipaEnergy/TulipaEnergyModel.jl/blob/b8d29cc637672567cff097adb82fa8a0dc561c63/src/structures.jl#L72-L74">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TulipaEnergyModel.RepPeriodData" href="#TulipaEnergyModel.RepPeriodData"><code>TulipaEnergyModel.RepPeriodData</code></a> — <span class="docstring-category">Type</span></header><section><div><p>Schema for the rep-period-data.csv file.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/TulipaEnergy/TulipaEnergyModel.jl/blob/b8d29cc637672567cff097adb82fa8a0dc561c63/src/input-tables.jl#L80-L82">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TulipaEnergyModel.RepresentativePeriod" href="#TulipaEnergyModel.RepresentativePeriod"><code>TulipaEnergyModel.RepresentativePeriod</code></a> — <span class="docstring-category">Type</span></header><section><div><p>Structure to hold the data of one representative period.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/TulipaEnergy/TulipaEnergyModel.jl/blob/b8d29cc637672567cff097adb82fa8a0dc561c63/src/structures.jl#L5-L7">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TulipaEnergyModel._parse_rp_partition" href="#TulipaEnergyModel._parse_rp_partition"><code>TulipaEnergyModel._parse_rp_partition</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">_parse_rp_partition(Val(specification), time_step_string, rp_time_steps)</code></pre><p>Parses the time<em>step</em>string according to the specification. The representative period time steps (<code>rp_time_steps</code>) might not be used in the computation, but it will be used for validation.</p><p>The specification defines what is expected from the <code>time_step_string</code>:</p><ul><li><code>:uniform</code>: The <code>time_step_string</code> should be a single number indicating the duration of each block. Examples: &quot;3&quot;, &quot;4&quot;, &quot;1&quot;.</li><li><code>:explicit</code>: The <code>time_step_string</code> should be a semicolon-separated list of integers. Each integer is a duration of a block. Examples: &quot;3;3;3;3&quot;, &quot;4;4;4&quot;, &quot;1;1;1;1;1;1;1;1;1;1;1;1&quot;, and &quot;3;3;4;2&quot;.</li><li><code>:math</code>: The <code>time_step_string</code> should be an expression of the form <code>NxD+NxD…</code>, where <code>D</code> is the duration of the block and <code>N</code> is the number of blocks. Examples: &quot;4x3&quot;, &quot;3x4&quot;, &quot;12x1&quot;, and &quot;2x3+1x4+1x2&quot;.</li></ul><p>The generated blocks will be ranges (<code>a:b</code>). The first block starts at <code>1</code>, and the last block ends at <code>length(rp_time_steps)</code>.</p><p>The following table summarizes the formats for a <code>rp_time_steps = 1:12</code>:</p><table><tr><th style="text-align: left">Output</th><th style="text-align: left">:uniform</th><th style="text-align: left">:explicit</th><th style="text-align: left">:math</th></tr><tr><td style="text-align: left">1:3, 4:6, 7:9, 10:12</td><td style="text-align: left">3</td><td style="text-align: left">3;3;3;3</td><td style="text-align: left">4x3</td></tr><tr><td style="text-align: left">1:4, 5:8, 9:12</td><td style="text-align: left">4</td><td style="text-align: left">4;4;4</td><td style="text-align: left">3x4</td></tr><tr><td style="text-align: left">1:1, 2:2, …, 12:12</td><td style="text-align: left">1</td><td style="text-align: left">1;1;1;1;1;1;1;1;1;1;1;1</td><td style="text-align: left">12x1</td></tr><tr><td style="text-align: left">1:3, 4:6, 7:10, 11:12</td><td style="text-align: left">NA</td><td style="text-align: left">3;3;4;2</td><td style="text-align: left">2x3+1x4+1x2</td></tr></table><p><strong>Examples</strong></p><pre><code class="language-julia hljs">using TulipaEnergyModel
TulipaEnergyModel._parse_rp_partition(Val(:uniform), &quot;3&quot;, 1:12)

# output

4-element Vector{UnitRange{Int64}}:
 1:3
 4:6
 7:9
 10:12</code></pre><pre><code class="language-julia hljs">using TulipaEnergyModel
TulipaEnergyModel._parse_rp_partition(Val(:explicit), &quot;4;4;4&quot;, 1:12)

# output

3-element Vector{UnitRange{Int64}}:
 1:4
 5:8
 9:12</code></pre><pre><code class="language-julia hljs">using TulipaEnergyModel
TulipaEnergyModel._parse_rp_partition(Val(:math), &quot;2x3+1x4+1x2&quot;, 1:12)

# output

4-element Vector{UnitRange{Int64}}:
 1:3
 4:6
 7:10
 11:12</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/TulipaEnergy/TulipaEnergyModel.jl/blob/b8d29cc637672567cff097adb82fa8a0dc561c63/src/io.jl#L203-L272">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TulipaEnergyModel.compute_assets_partitions!-NTuple{4, Any}" href="#TulipaEnergyModel.compute_assets_partitions!-NTuple{4, Any}"><code>TulipaEnergyModel.compute_assets_partitions!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">compute_assets_partitions!(partitions, df, a, representative_periods)</code></pre><p>Parses the time blocks in the DataFrame <code>df</code> for the asset <code>a</code> and every representative period in the <code>time_steps_per_rp</code> dictionary, modifying the input <code>partitions</code>.</p><p><code>partitions</code> must be a dictionary indexed by the representative periods, possibly empty.</p><p><code>time_steps_per_rp</code> must be a dictionary indexed by <code>rp</code> and its values are the time steps of that <code>rp</code>.</p><p>To obtain the partitions, the columns <code>specification</code> and <code>partition</code> from <code>df</code> are passed to the function <a href="#TulipaEnergyModel._parse_rp_partition"><code>_parse_rp_partition</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/TulipaEnergy/TulipaEnergyModel.jl/blob/b8d29cc637672567cff097adb82fa8a0dc561c63/src/io.jl#L311-L326">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TulipaEnergyModel.compute_constraints_partitions-Tuple{Any, Any}" href="#TulipaEnergyModel.compute_constraints_partitions-Tuple{Any, Any}"><code>TulipaEnergyModel.compute_constraints_partitions</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">cons_partitions = compute_constraints_partitions(graph, representative_periods)</code></pre><p>Computes the constraints partitions using the assets and flows partitions stored in the graph, and the representative periods.</p><p>The function computes the constraints partitions by iterating over the partition dictionary, which specifies the partition strategy for each resolution (i.e., lowest or highest). For each asset and representative period, it calls the <code>compute_rp_partition</code> function to compute the partition based on the strategy.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/TulipaEnergy/TulipaEnergyModel.jl/blob/b8d29cc637672567cff097adb82fa8a0dc561c63/src/time-resolution.jl#L5-L15">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TulipaEnergyModel.compute_flows_partitions!-NTuple{5, Any}" href="#TulipaEnergyModel.compute_flows_partitions!-NTuple{5, Any}"><code>TulipaEnergyModel.compute_flows_partitions!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">compute_flows_partitions!(partitions, df, u, v, representative_periods)</code></pre><p>Parses the time blocks in the DataFrame <code>df</code> for the flow <code>(u, v)</code> and every representative period in the <code>time_steps_per_rp</code> dictionary, modifying the input <code>partitions</code>.</p><p><code>partitions</code> must be a dictionary indexed by the representative periods, possibly empty.</p><p><code>time_steps_per_rp</code> must be a dictionary indexed by <code>rp</code> and its values are the time steps of that <code>rp</code>.</p><p>To obtain the partitions, the columns <code>specification</code> and <code>partition</code> from <code>df</code> are passed to the function <a href="#TulipaEnergyModel._parse_rp_partition"><code>_parse_rp_partition</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/TulipaEnergy/TulipaEnergyModel.jl/blob/b8d29cc637672567cff097adb82fa8a0dc561c63/src/io.jl#L341-L356">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TulipaEnergyModel.compute_rp_partition-Tuple{AbstractVector{&lt;:AbstractVector{&lt;:UnitRange{&lt;:Integer}}}}" href="#TulipaEnergyModel.compute_rp_partition-Tuple{AbstractVector{&lt;:AbstractVector{&lt;:UnitRange{&lt;:Integer}}}}"><code>TulipaEnergyModel.compute_rp_partition</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">rp_partition = compute_rp_partition(partitions; strategy = :greedy)</code></pre><p>Given the time steps of various flows/assets in the <code>partitions</code> input, compute the representative period partitions.</p><p>Each element of <code>partitions</code> is a partition with the following assumptions:</p><ul><li>An element is of the form <code>V = [r₁, r₂, …, rₘ]</code>, where each <code>rᵢ</code> is a range <code>a:b</code>.</li><li><code>r₁</code> starts at 1.</li><li><code>rᵢ₊₁</code> starts at the end of <code>rᵢ</code> plus 1.</li><li><code>rₘ</code> ends at some value <code>N</code>, that is the same for all elements of <code>partitions</code>.</li></ul><p>Notice that this implies that they form a disjunct partition of <code>1:N</code>.</p><p>The output will also be a partition with the conditions above.</p><p><strong>Strategies</strong></p><p><strong>:greedy</strong></p><p>If <code>strategy = :greedy</code> (default), then the output is constructed greedily, i.e., it selects the next largest breakpoint following the algorithm below:</p><ol><li>Input: <code>Vᴵ₁, …, Vᴵₚ</code>, a list of time blocks. Each element of <code>Vᴵⱼ</code> is a range <code>r = r.start:r.end</code>. Output: <code>V</code>.</li><li>Compute the end of the representative period <code>N</code> (all <code>Vᴵⱼ</code> should have the same end)</li><li>Start with an empty <code>V = []</code></li><li>Define the beginning of the range <code>s = 1</code></li><li>Define an array with all the next breakpoints <code>B</code> such that <code>Bⱼ</code> is the first <code>r.end</code> such that <code>r.end ≥ s</code> for each <code>r ∈ Vᴵⱼ</code>.</li><li>The end of the range will be the <code>e = max Bⱼ</code>.</li><li>Define <code>r = s:e</code> and add <code>r</code> to the end of <code>V</code>.</li><li>If <code>e = N</code>, then END</li><li>Otherwise, define <code>s = e + 1</code> and go to step 4.</li></ol><p><strong>Examples</strong></p><pre><code class="language-julia hljs">partition1 = [1:4, 5:8, 9:12]
partition2 = [1:3, 4:6, 7:9, 10:12]
compute_rp_partition([partition1, partition2])

# output

3-element Vector{UnitRange{Int64}}:
 1:4
 5:8
 9:12</code></pre><pre><code class="language-julia hljs">partition1 = [1:1, 2:3, 4:6, 7:10, 11:12]
partition2 = [1:2, 3:4, 5:5, 6:7, 8:9, 10:12]
compute_rp_partition([partition1, partition2])

# output

5-element Vector{UnitRange{Int64}}:
 1:2
 3:4
 5:6
 7:10
 11:12</code></pre><p><strong>:all</strong></p><p>If <code>strategy = :all</code>, then the output selects includes all the breakpoints from the input. Another way of describing it, is to select the minimum end-point instead of the maximum end-point in the <code>:greedy</code> strategy.</p><p><strong>Examples</strong></p><pre><code class="language-julia hljs">partition1 = [1:4, 5:8, 9:12]
partition2 = [1:3, 4:6, 7:9, 10:12]
compute_rp_partition([partition1, partition2]; strategy = :all)

# output

6-element Vector{UnitRange{Int64}}:
 1:3
 4:4
 5:6
 7:8
 9:9
 10:12</code></pre><pre><code class="language-julia hljs">partition1 = [1:1, 2:3, 4:6, 7:10, 11:12]
partition2 = [1:2, 3:4, 5:5, 6:7, 8:9, 10:12]
compute_rp_partition([partition1, partition2]; strategy = :all)

# output

10-element Vector{UnitRange{Int64}}:
 1:1
 2:2
 3:3
 4:4
 5:5
 6:6
 7:7
 8:9
 10:10
 11:12</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/TulipaEnergy/TulipaEnergyModel.jl/blob/b8d29cc637672567cff097adb82fa8a0dc561c63/src/time-resolution.jl#L96-L201">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TulipaEnergyModel.create_energy_problem_from_csv_folder-Tuple{AbstractString}" href="#TulipaEnergyModel.create_energy_problem_from_csv_folder-Tuple{AbstractString}"><code>TulipaEnergyModel.create_energy_problem_from_csv_folder</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">energy_problem = create_energy_problem_from_csv_folder(input_folder)</code></pre><p>Returns the <a href="#TulipaEnergyModel.EnergyProblem"><code>TulipaEnergyModel.EnergyProblem</code></a> reading all data from CSV files in the <code>input_folder</code>. This is a wrapper around <code>create_graph_and_representative_periods_from_csv_folder</code> that creates the <code>EnergyProblem</code> structure.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/TulipaEnergy/TulipaEnergyModel.jl/blob/b8d29cc637672567cff097adb82fa8a0dc561c63/src/io.jl#L7-L14">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TulipaEnergyModel.create_graph_and_representative_periods_from_csv_folder-Tuple{AbstractString}" href="#TulipaEnergyModel.create_graph_and_representative_periods_from_csv_folder-Tuple{AbstractString}"><code>TulipaEnergyModel.create_graph_and_representative_periods_from_csv_folder</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">graph, representative_periods = create_graph_and_representative_periods_from_csv_folder(input_folder)</code></pre><p>Returns the <code>graph</code> structure that holds all data, and the <code>representative_periods</code> array. The following files are expected to exist in the input folder:</p><ul><li><code>assets-data.csv</code>: Following the <a href="#TulipaEnergyModel.AssetData"><code>TulipaEnergyModel.AssetData</code></a> specification.</li><li><code>assets-profiles.csv</code>: Following the <a href="#TulipaEnergyModel.AssetProfiles"><code>TulipaEnergyModel.AssetProfiles</code></a> specification. The profiles should be ordered by time step.</li><li><code>assets-paritions.csv</code>: Following the <a href="#TulipaEnergyModel.AssetPartitionData"><code>TulipaEnergyModel.AssetPartitionData</code></a> specification.</li><li><code>flows-data.csv</code>: Following the <a href="#TulipaEnergyModel.FlowData"><code>TulipaEnergyModel.FlowData</code></a> specification.</li><li><code>flows-profiles.csv</code>: Following the <a href="#TulipaEnergyModel.FlowProfiles"><code>TulipaEnergyModel.FlowProfiles</code></a> specification. The profiles should be ordered by time step.</li><li><code>flows-paritions.csv</code>: Following the <a href="#TulipaEnergyModel.FlowPartitionData"><code>TulipaEnergyModel.FlowPartitionData</code></a> specification.</li><li><code>rep-periods-data.csv</code>: Following the <a href="#TulipaEnergyModel.RepPeriodData"><code>TulipaEnergyModel.RepPeriodData</code></a> specification.</li></ul><p>The returned structures are:</p><ul><li><p><code>graph</code>: a MetaGraph with the following information:</p><ul><li><code>labels(graph)</code>: All assets.</li><li><code>edge_labels(graph)</code>: All flows, in pair format <code>(u, v)</code>, where <code>u</code> and <code>v</code> are assets.</li><li><code>graph[a]</code>: A <a href="#TulipaEnergyModel.GraphAssetData"><code>TulipaEnergyModel.GraphAssetData</code></a> structure for asset <code>a</code>.</li><li><code>graph[u, v]</code>: A <a href="#TulipaEnergyModel.GraphFlowData"><code>TulipaEnergyModel.GraphFlowData</code></a> structure for flow <code>(u, v)</code>.</li></ul></li><li><p><code>representative_periods</code>: An array of <a href="#TulipaEnergyModel.RepresentativePeriod"><code>TulipaEnergyModel.RepresentativePeriod</code></a> ordered by their IDs.</p></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/TulipaEnergy/TulipaEnergyModel.jl/blob/b8d29cc637672567cff097adb82fa8a0dc561c63/src/io.jl#L21-L46">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TulipaEnergyModel.create_model!-Tuple{Any}" href="#TulipaEnergyModel.create_model!-Tuple{Any}"><code>TulipaEnergyModel.create_model!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">create_model!(energy_problem; verbose = false)</code></pre><p>Create the internal model of an <a href="#TulipaEnergyModel.EnergyProblem"><code>TulipaEnergyModel.EnergyProblem</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/TulipaEnergy/TulipaEnergyModel.jl/blob/b8d29cc637672567cff097adb82fa8a0dc561c63/src/model.jl#L3-L7">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TulipaEnergyModel.create_model-Tuple{Any, Any, Any}" href="#TulipaEnergyModel.create_model-Tuple{Any, Any, Any}"><code>TulipaEnergyModel.create_model</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">model = create_model(graph, representative_periods)</code></pre><p>Create the energy model given the graph and representative_periods.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/TulipaEnergy/TulipaEnergyModel.jl/blob/b8d29cc637672567cff097adb82fa8a0dc561c63/src/model.jl#L17-L21">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TulipaEnergyModel.read_csv_with_schema-Tuple{Any, Any}" href="#TulipaEnergyModel.read_csv_with_schema-Tuple{Any, Any}"><code>TulipaEnergyModel.read_csv_with_schema</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">read_csv_with_schema(file_path, schema)</code></pre><p>Reads the csv with file_name at location path validating the data using the schema. It assumes that the file&#39;s header is at the second row. The first row of the file contains some metadata information that is not used.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/TulipaEnergy/TulipaEnergyModel.jl/blob/b8d29cc637672567cff097adb82fa8a0dc561c63/src/io.jl#L141-L147">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TulipaEnergyModel.resolution_matrix-Tuple{AbstractVector{&lt;:UnitRange{&lt;:Integer}}, AbstractVector{&lt;:UnitRange{&lt;:Integer}}}" href="#TulipaEnergyModel.resolution_matrix-Tuple{AbstractVector{&lt;:UnitRange{&lt;:Integer}}, AbstractVector{&lt;:UnitRange{&lt;:Integer}}}"><code>TulipaEnergyModel.resolution_matrix</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">M = resolution_matrix(rp_partition, time_blocks; rp_resolution = 1.0)</code></pre><p>Computes the resolution balance matrix using the array of <code>rp_partition</code> and the array of <code>time_blocks</code>. The <code>time_blocks</code> will normally be from an asset or flow, but there is nothing constraining it to that. The elements in these arrays must be ranges.</p><p>The resulting matrix will be multiplied by <code>rp_resolution</code>.</p><p><strong>Examples</strong></p><p>The following two examples are for two flows/assets with resolutions of 3h and 4h, so that the representative period has 4h periods.</p><pre><code class="language-julia hljs">rp_partition = [1:4, 5:8, 9:12]
time_blocks = [1:4, 5:8, 9:12]
resolution_matrix(rp_partition, time_blocks)

# output

3×3 SparseArrays.SparseMatrixCSC{Float64, Int64} with 3 stored entries:
 1.0   ⋅    ⋅
  ⋅   1.0   ⋅
  ⋅    ⋅   1.0</code></pre><pre><code class="language-julia hljs">rp_partition = [1:4, 5:8, 9:12]
time_blocks = [1:3, 4:6, 7:9, 10:12]
resolution_matrix(rp_partition, time_blocks; rp_resolution = 1.5)

# output

3×4 SparseArrays.SparseMatrixCSC{Float64, Int64} with 6 stored entries:
 1.5  0.5   ⋅    ⋅
  ⋅   1.0  1.0   ⋅
  ⋅    ⋅   0.5  1.5</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/TulipaEnergy/TulipaEnergyModel.jl/blob/b8d29cc637672567cff097adb82fa8a0dc561c63/src/time-resolution.jl#L44-L82">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TulipaEnergyModel.run_scenario-Tuple{AbstractString}" href="#TulipaEnergyModel.run_scenario-Tuple{AbstractString}"><code>TulipaEnergyModel.run_scenario</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">run_scenario(input_folder)
run_scenario(input_folder, output_folder)</code></pre><p>Run the scenario in the given input<em>folder and return the sets, parameters, and solution. If the output</em>folder is specified, save the sets, parameters, and solution to the output_folder.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/TulipaEnergy/TulipaEnergyModel.jl/blob/b8d29cc637672567cff097adb82fa8a0dc561c63/src/run-scenario.jl#L3-L9">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TulipaEnergyModel.save_solution_to_file-Tuple{Any, Any}" href="#TulipaEnergyModel.save_solution_to_file-Tuple{Any, Any}"><code>TulipaEnergyModel.save_solution_to_file</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">save_solution_to_file(output_file, graph)</code></pre><p>Saves the solution in CSV files inside <code>output_folder</code>.</p><p>The following files are created:</p><ul><li><code>investment.csv</code>: The format of each row is <code>a,v,p*v</code>, where <code>a</code> is the asset name, <code>v</code> is the corresponding asset investment value, and <code>p</code> is the corresponding capacity value. Only investable assets are included.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/TulipaEnergy/TulipaEnergyModel.jl/blob/b8d29cc637672567cff097adb82fa8a0dc561c63/src/io.jl#L175-L185">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TulipaEnergyModel.save_solution_to_file-Tuple{Any, TulipaEnergyModel.EnergyProblem}" href="#TulipaEnergyModel.save_solution_to_file-Tuple{Any, TulipaEnergyModel.EnergyProblem}"><code>TulipaEnergyModel.save_solution_to_file</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">save_solution_to_file(output_folder, energy_problem)</code></pre><p>Saves the solution from <code>energy_problem</code> in CSV files inside <code>output_file</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/TulipaEnergy/TulipaEnergyModel.jl/blob/b8d29cc637672567cff097adb82fa8a0dc561c63/src/io.jl#L163-L167">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TulipaEnergyModel.solve_model!-Tuple{TulipaEnergyModel.EnergyProblem}" href="#TulipaEnergyModel.solve_model!-Tuple{TulipaEnergyModel.EnergyProblem}"><code>TulipaEnergyModel.solve_model!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">solution = solve_model!(energy_problem)</code></pre><p>Solve the internal model of an energy<em>problem. The solution obtained by calling [`solve</em>model`](@ref) is returned.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/TulipaEnergy/TulipaEnergyModel.jl/blob/b8d29cc637672567cff097adb82fa8a0dc561c63/src/model.jl#L335-L340">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TulipaEnergyModel.solve_model-Tuple{JuMP.Model}" href="#TulipaEnergyModel.solve_model-Tuple{JuMP.Model}"><code>TulipaEnergyModel.solve_model</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">solution = solve_model(model)</code></pre><p>Solve the JuMP model and return the solution.</p><p>The <code>solution</code> object is a NamedTuple with the following fields:</p><ul><li><p><code>objective_value</code>: A Float64 with the objective value at the solution.</p></li><li><p><code>assets_investment[a]</code>: The investment for each asset, indexed on the investable asset <code>a</code>. To create a traditional array in the order given by the investable assets, one can run</p><pre><code class="nohighlight hljs">[solution.assets_investment[a] for a in labels(graph) if graph[a].investable]</code></pre></li><li><p><code>flows_investment[u, v]</code>: The investment for each flow, indexed on the investable flow <code>(u, v)</code>. To create a traditional array in the order given by the investable flows, one can run</p><pre><code class="nohighlight hljs">[solution.flows_investment[(u, v)] for (u, v) in edge_labels(graph) if graph[u, v].investable]</code></pre></li><li><p><code>flow[(u, v), rp, B]</code>: The flow value for a given flow <code>(u, v)</code> at a given representative period <code>rp</code>, and time block <code>B</code>. The list of time blocks is defined by <code>graph[(u, v)].partitions[rp]</code>. To create a vector with all values of <code>flow</code> for a given <code>(u, v)</code> and <code>rp</code>, one can run</p><pre><code class="nohighlight hljs">[solution.flow[(u, v), rp, B] for B in graph[u, v].partitions[rp]]</code></pre></li><li><p><code>storage_level[a, rp, B]</code>: The storage level for the storage asset <code>a</code> for a representative period <code>rp</code> and a time block <code>B</code>. The list of time blocks is defined by <code>constraints_partitions</code>, which was used to create the model. To create a vector with the all values of <code>storage_level</code> for a given <code>a</code> and <code>rp</code>, one can run</p><pre><code class="nohighlight hljs">[solution.storage_level[a, rp, B] for B in constraints_partitions[:lowest_resolution][(a, rp)]]</code></pre></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/TulipaEnergy/TulipaEnergyModel.jl/blob/b8d29cc637672567cff097adb82fa8a0dc561c63/src/model.jl#L382-L418">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../tutorial/">« Tutorial</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="auto">Automatic (OS)</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.2.1 on <span class="colophon-date" title="Wednesday 6 December 2023 16:14">Wednesday 6 December 2023</span>. Using Julia version 1.9.4.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
